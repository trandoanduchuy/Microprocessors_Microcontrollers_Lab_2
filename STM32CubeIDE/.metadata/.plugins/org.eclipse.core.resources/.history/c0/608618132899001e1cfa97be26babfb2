/*
 * led_matrix.c
 *
 *  Created on: Dec 12, 2023
 *      Author: Huy
 */

#include "led_matrix.h"

const int MAX_LED_MATRIX = 8;
int index_led_matrix = 0;
unsigned char matrix_buffer[8] = {0x01, 0x02, 0x03, 0x04, 0x05, 0x06, 0x07};

void updateLEDMatrix(int index)
{
	switch(index)
	{
	case 0:
		/* Power column 0*/
		HAL_GPIO_WritePin(ENM0_GPIO_Port, ENM0_Pin, GPIO_PIN_RESET);
		/* Turn on led*/
		HAL_GPIO_WritePin(ROW0_GPIO_Port, ROW0_Pin, ~(matrix_buffer[0] << 0));
		HAL_GPIO_WritePin(ROW1_GPIO_Port, ROW1_Pin, ~(matrix_buffer[0] << 1));
		HAL_GPIO_WritePin(ROW2_GPIO_Port, ROW2_Pin, ~(matrix_buffer[0] << 2));
		HAL_GPIO_WritePin(ROW3_GPIO_Port, ROW3_Pin, ~(matrix_buffer[0] << 3));
		HAL_GPIO_WritePin(ROW4_GPIO_Port, ROW4_Pin, ~(matrix_buffer[0] << 4));
		HAL_GPIO_WritePin(ROW5_GPIO_Port, ROW5_Pin, ~(matrix_buffer[0] << 5));
		HAL_GPIO_WritePin(ROW6_GPIO_Port, ROW6_Pin, ~(matrix_buffer[0] << 6));
		HAL_GPIO_WritePin(ROW7_GPIO_Port, ROW7_Pin, ~(matrix_buffer[0] << 7));
		break;
	case 1:
		break;
	case 2:
		break;
	case 3:
		break;
	case 4:
		break;
	case 5:
		break;
	case 6:
		break;
	case 7:
		break;
	default:
		break;
	}
}

